"use strict";function disableScroll(){var t=window.scrollY;document.body.classList.add("disable-scroll"),document.body.dataset.position=t,document.body.style.top=-t+"px"}function enableScroll(){var t=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:t,left:0}),document.body.removeAttribute("data-position")}var burger=document.querySelector(".burger"),menu=document.querySelector(".header__nav");burger.addEventListener("click",(function(){burger.classList.toggle("burger--active"),menu.classList.toggle("header__nav--active"),burger.classList.contains("burger--active")?disableScroll():enableScroll()}));var cartBtn=document.querySelector(".cart__btn"),miniCart=document.querySelector(".mini-cart");cartBtn.addEventListener("click",(function(){miniCart.classList.add("mini-cart--visible")})),document.addEventListener("click",(function(t){t.target.classList.contains("mini-cart")||t.target.closest(".mini-cart")||t.target.classList.contains("cart__btn")||miniCart.classList.remove("mini-cart--visible")}));var accordions=document.querySelectorAll(".faq-accordion");function init(){new ymaps.Map("map",{center:[55.76,37.64],zoom:7})}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}accordions.forEach((function(t){t.addEventListener("click",(function(t){var e=t.currentTarget,n=e.querySelector(".faq-accordion__control"),r=e.querySelector(".faq-accordion__content");e.classList.toggle("open"),e.classList.contains("open")?(n.setAttribute("aria-expanded",!0),r.setAttribute("aria-hidden",!1),r.style.maxHeight=r.scrollHeight+"px"):(n.setAttribute("aria-expanded",!1),r.setAttribute("aria-hidden",!0),r.style.maxHeight=null)}))})),ymaps.ready(init);var catalogList=document.querySelector(".catalog-list"),catalogMore=document.querySelector(".catalog__more"),prodModal=document.querySelector('[data-graph-target="prod-modal"] .modal-content'),prodModalSlider=prodModal.querySelector(".modal-slider .swiper-wrapper"),prodModalPreview=prodModal.querySelector(".modal-slider .modal-preview"),prodModalInfo=prodModal.querySelector(".modal-info__wrapper"),prodModalDescr=prodModal.querySelector(".modal-prod-descr"),prodModalChars=prodModal.querySelector(".prod-chars"),prodModalVideo=prodModal.querySelector(".prod-modal__video"),prodQuantity=5,dataLength=null,modal=null,normalPrice=function(t){return String(t).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")},prodSlider=new Swiper(".modal-slider__container",{slidesPerView:1,spaceBetween:20});if(catalogList){var loadProducts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;fetch("data/data.json").then((function(t){return t.json()})).then((function(e){dataLength=e.length,catalogList.innerHTML="";for(var n=0;n<dataLength;n++)if(n<t){var r=e[n];catalogList.innerHTML+='\n              <li class="catalog-list__item">\n                <article class="product">\n                  <div class="product__image">\n                    <img src="'.concat(r.mainImage,'" alt="').concat(r.title,'">\n                    <div class="product__btns">\n                      <button class="product__btn" data-graph-path="prod-modal" data-id="').concat(r.id,'" aria-label="Показать информацию о товаре">\n                        <svg>\n                          <use xlink:href="img/sprite.svg#eye"></use>\n                        </svg>\n                      </button>\n                      <button class="product__btn add-to-cart-btn" data-id="').concat(r.id,'" aria-label="Добавить товар в корзину">\n                        <svg>\n                          <use xlink:href="img/sprite.svg#cart"></use>\n                        </svg>\n                      </button>\n                    </div>\n                  </div>\n                  <h3 class="product__title">').concat(r.title,'</h3>\n                  <span class="product__price">').concat(normalPrice(r.price)," р</span>\n                </article>\n              </li>\n            ")}})).then((function(){document.querySelectorAll(".product__title").forEach((function(t){$clamp(t,{clamp:"22px"})})),document.querySelectorAll(".product__btns").forEach((function(t){t.addEventListener("focus",(function(t){t.currentTarget.closest(".product__btns").classList.add("product__btns--active")}),!0),t.addEventListener("blur",(function(t){t.currentTarget.closest(".product__btns").classList.remove("product__btns--active")}),!0)})),cartLogic(),modal=new GraphModal({isOpen:function(t){if(t.modalContainer.classList.contains("prod-modal")){var e=t.previousActiveElement.dataset.id;loadModalData(e),prodSlider.update()}}})}))};loadProducts(prodQuantity);var loadModalData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;fetch("data/data.json").then((function(t){return t.json()})).then((function(e){prodModalSlider.innerHtml="",prodModalPreview.innerHtml="",prodModalInfo.innerHtml="",prodModalDescr.textContent="",prodModalChars.innerHtml="",prodModalVideo.innerHtml="";var n,r=_createForOfIteratorHelper(e);try{var a=function(){var e=n.value;if(e.id==t){var r=e.gallery.map((function(t,e){return'\n                <div class="swiper-slide" data-index="'.concat(e,'">\n                  <img src="').concat(t,'" alt="">\n                </div>\n              ')})),a=e.gallery.map((function(t,e){return'\n                <div class="modal-preview__item '.concat(0===e?"modal-preview__item--active":"",'"\n                tabindex="0" data-index="').concat(e,'">\n                  <img src="').concat(t,'" alt="">\n                </div>\n              ')})),o=e.sizes.map((function(t){return'\n                <li class="modal-sizes__item">\n                  <button class="modal-sizes__btn">'.concat(t,"</button>\n                </li>\n              ")}));prodModalSlider.innerHTML=r.join(""),prodModalPreview.innerHTML=a.join(""),prodModalInfo.innerHTML='\n              <h3 class="modal-info__title">'.concat(e.title,'</h3>\n              <div class="modal-info__rate">\n                <img src="img/star.svg" alt="Рейтинг 5 из 5">\n                <img src="img/star.svg" alt="">\n                <img src="img/star.svg" alt="">\n                <img src="img/star.svg" alt="">\n                <img src="img/star.svg" alt="">\n              </div>\n              <div class="modal-info__sizes">\n                <span class="modal-info__subtitle">Выберите размер</span>\n                <ul class="modal-info__sizes-list modal-sizes">\n                  ').concat(o.join(""),'\n                </ul>\n              </div>\n              <div class="modal-info__price">\n                <span class="modal-info__current-price">').concat(e.price,' ₽</span>\n                <span class="modal-info__old-price">').concat(e.oldPrice?e.oldPrice+"₽":"","</span>\n              </div>\n            "),prodModalDescr.textContent=e.description;var i="";Object.keys(e.chars).forEach((function(t){i+='\n                <p class="prod-bottom__descr prod-chars__item">'.concat(t,": ").concat(e.chars[t],"</p>\n              ")})),prodModalChars.innerHTML=i,e.video?(prodModalVideo.style.display="block",prodModalVideo.innerHTML='\n                <iframe src="'.concat(e.video,'" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n              ')):prodModalVideo.style.display="none"}};for(r.s();!(n=r.n()).done;)a()}catch(t){r.e(t)}finally{r.f()}})).then((function(){prodSlider.update(),prodSlider.on("slideChangeTransitionEnd",(function(){var t=document.querySelector(".swiper-slide-active").dataset.index;document.querySelectorAll(".modal-preview__item").forEach((function(t){t.classList.remove("modal-preview__item--active")})),document.querySelector('.modal-preview__item[data-index="'.concat(t,'"]')).classList.add("modal-preview__item--active")})),document.querySelectorAll(".modal-preview__item").forEach((function(t){t.addEventListener("click",(function(t){var e=parseInt(t.currentTarget.dataset.index);document.querySelectorAll(".modal-preview__item").forEach((function(t){t.classList.remove("modal-preview__item--active")})),t.currentTarget.classList.add("modal-preview__item--active"),prodSlider.slideTo(e)}))}))}))};catalogMore.addEventListener("click",(function(t){loadProducts(prodQuantity+=3),catalogMore.style.display=prodQuantity>=dataLength?"none":"block"}))}var price=0,miniCartList=document.querySelector(".mini-cart__list"),fullPrice=document.querySelector(".mini-cart__summ"),cartCount=document.querySelector(".cart__count"),priceWithoutSpaces=function(t){return t.replace(/\s/g,"")},plusFullPrice=function(t){return price+=t},minusFullPrice=function(t){return price-=t},printFullPrice=function(){fullPrice.textContent="".concat(normalPrice(price)," ₽")},printQuantity=function(t){cartCount.textContent=t},loadCartData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;fetch("data/data.json").then((function(t){return t.json()})).then((function(e){var n,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id==t)return miniCartList.insertAdjacentHTML("afterbegin",'\n            <li class="mini-cart__item" data-id="'.concat(a.id,'">\n              <article class="mini-cart__product mini-product">\n                <div class="mini-product__image">\n                  <img src="').concat(a.mainImage,'" alt="').concat(a.title,'">\n                </div>\n                <div class="mini-product__content">\n                  <div class="mini-product__text">\n                    <h3 class="mini-product__title">').concat(a.title,'</h3>\n                    <span class="mini-product__price">').concat(normalPrice(a.price),' ₽</span>\n                  </div>\n                  <button class="mini-product__delete" aria-label="Удалить товар">\n                    Удалить\n                    <svg>\n                      <use xlink:href="img/sprite.svg#trash"></use>\n                    </svg>\n                  </button>\n                </div>\n              </article>\n            </li>\n          ')),a}}catch(t){r.e(t)}finally{r.f()}})).then((function(t){plusFullPrice(t.price),printFullPrice();var e=document.querySelectorAll(".mini-cart__list .mini-cart__item").length;e>0&&cartCount.classList.add("cart__count--visible"),printQuantity(e)}))},cartLogic=function(){document.querySelectorAll(".add-to-cart-btn").forEach((function(t){t.addEventListener("click",(function(t){var e=t.currentTarget.dataset.id;loadCartData(e),document.querySelector(".cart__btn").classList.remove("cart__btn--inactive"),t.currentTarget.classList.add("product__btn--disabled")}))})),miniCartList.addEventListener("click",(function(t){if(t.target.classList.contains("mini-product__delete")){var e=t.target.closest(".mini-cart__item"),n=parseInt(priceWithoutSpaces(e.querySelector(".mini-product__price").textContent)),r=e.dataset.id;document.querySelector('.add-to-cart-btn[data-id="'.concat(r,'"]')).classList.remove("product__btn--disabled"),e.remove(),minusFullPrice(n),printFullPrice();var a=document.querySelectorAll(".mini-cart__list .mini-cart__item").length;0==a&&(cartCount.classList.remove("cart__count--visible"),miniCart.classList.remove("mini-cart--visible"),document.querySelector(".cart__btn").classList.add("cart__btn--inactive")),printQuantity(a)}}))},openOrderModal=document.querySelector(".mini-cart__btn"),orderModalList=document.querySelector(".cart-modal-order__list"),orderModalQuantity=document.querySelector(".cart-modal-order__quantity span"),orderModalSumm=document.querySelector(".cart-modal-order__summ span"),orderModalShow=document.querySelector(".cart-modal-order__show");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}openOrderModal.addEventListener("click",(function(){var t=document.querySelector(".mini-cart__list").innerHTML;orderModalList.innerHTML=t,orderModalQuantity.textContent="".concat(document.querySelectorAll(".mini-cart__list .mini-cart__item").length," шт"),orderModalSumm.textContent=fullPrice.textContent})),orderModalShow.addEventListener("click",(function(){orderModalList.classList.contains("cart-modal-order__list--visible")?(orderModalList.classList.remove("cart-modal-order__list--visible"),orderModalShow.classList.remove("cart-modal-order__show--active")):(orderModalList.classList.add("cart-modal-order__list--visible"),orderModalShow.classList.add("cart-modal-order__show--active"))})),orderModalList.addEventListener("click",(function(t){if(t.target.classList.contains("mini-product__delete")){var e=t.target.closest(".mini-cart__item"),n=parseInt(priceWithoutSpaces(e.querySelector(".mini-product__price").textContent)),r=e.dataset.id;document.querySelector('.add-to-cart-btn[data-id="'.concat(r,'"]')).classList.remove("product__btn--disabled"),e.style.displa="none",setTimeout((function(){e.remove()}),100),document.querySelector('.mini-cart__item[data-id="'.concat(r,'"]')).remove(),minusFullPrice(n),printFullPrice(),setTimeout((function(){var t=document.querySelectorAll(".mini-cart__list .mini-cart__item").length;0==t&&(cartCount.classList.remove("cart__count--visible"),miniCart.classList.remove("mini-cart--visible"),document.querySelector(".cart__btn").classList.add("cart__btn--inactive"),modal.close()),printQuantity(t)}),100)}}));var quizFormData=null,textareaText=null,quizData=[{number:1,title:"Какой тип кроссовок рассматриваете?",answer_alias:"type",answers:[{answer_title:"кеды",type:"checkbox"},{answer_title:"кеды",type:"checkbox"},{answer_title:"кеды",type:"checkbox"},{answer_title:"кеды",type:"checkbox"},{answer_title:"кеды",type:"checkbox"}]},{number:2,title:"Какой размер вам подойдет?",answer_alias:"size",answers:[{answer_title:"Менее 36",type:"checkbox"},{answer_title:"36-38",type:"checkbox"},{answer_title:"39-41",type:"checkbox"},{answer_title:"42-44",type:"checkbox"},{answer_title:"45 и более",type:"checkbox"}]},{number:3,title:"Уточните какие-либо моменты",answer_alias:"message",answers:[{answer_title:"Введите текст",type:"textarea"}]}],quizTemplate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=t.number,a=t.title,o=n.nextBtnText,i=t.answers.map((function(e){return"checkbox"===e.type?'\n      <li class="quiz-question__item">\n      <img src="img/sneaker.jpg" alt="">\n        <label class="custom-checkbox quiz-question__label">\n          <input type="'.concat(e.type,'" class="custom-checkbox__field quiz-question__answer" data-valid="false" name="').concat(t.answer_alias,'" ').concat("text"==e.type?'placeholder="Введите ваш вариант"':"",' value="').concat("text"!==e.type?e.answer_title:"",'">\n          <span class="custom-checkbox__content">').concat(e.answer_title,"</span>\n        </label>\n      </li>\n\t\t"):"textarea"===e.type?'\n        <label class="quiz-question__label">\n          <textarea placeholder="'.concat(e.answer_title,'" class="quiz-question__message"></textarea>\n        </label>\n      '):'\n        <label class="quiz-question__label">\n          <input type="'.concat(e.type,'" data-valid="false" class="quiz-question__answer" name="').concat(t.answer_alias,'" ').concat("text"==e.type?'placeholder="Введите ваш вариант"':"",' value="').concat("text"!==e.type?e.answer_title:"",'">\n          <span>').concat(e.answer_title,"</span>\n        </label>\n      ")}));return'\n\t\t<div class="quiz-question">\n\t\t\t<h3 class="quiz-question__title">'.concat(a,'</h3>\n\t\t\t<ul class="quiz-question__answers">\n\t\t\t\t').concat(i.join(""),'\n\t\t\t</ul>\n      <div class="quiz-bottom">\n        <div class="quiz-question__count">').concat(r," из ").concat(e,'</div>\n        <button type="button" class="btn btn--thirdly quiz-question__btn" data-next-btn>').concat(o,"</button>\n      </div>\n\t\t</div>\n\t")},Quiz=function(){function t(e,n,r){_classCallCheck(this,t),this.$el=document.querySelector(e),this.options=r,this.data=n,this.counter=0,this.dataLength=this.data.length,this.resultArray=[],this.tmp={},this.init(),this.events()}return _createClass(t,[{key:"init",value:function(){this.$el.innerHTML=quizTemplate(this.data[this.counter],this.dataLength,this.options)}},{key:"nextQuestion",value:function(){var t=this;this.valid()&&(this.counter+1<this.dataLength?(this.counter++,this.$el.innerHTML=quizTemplate(this.data[this.counter],this.dataLength,this.options),this.counter+1==this.dataLength&&(document.querySelector(".quiz-question__answers").style.display="block")):(document.querySelector(".quiz-questions").style.display="none",document.querySelector(".last-question").style.display="block",document.querySelector(".quiz__title").textContent="Ваша подборка готова!",document.querySelector(".quiz__descr").textContent="Оставьте свои контактные данные, чтобы бы мы могли отправить  подготовленный для вас каталог",document.querySelector(".quiz-form").addEventListener("submit",(function(e){e.preventDefault(),quizFormData=new FormData;var n,r=_createForOfIteratorHelper(t.resultArray);try{for(r.s();!(n=r.n()).done;){var a=n.value;for(var o in a)quizFormData.append(o,a[o].substring(0,a[o].length-1))}}catch(t){r.e(t)}finally{r.f()}quizFormData.append("textarea",textareaText);var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&i.status},document.querySelector(".quiz-form").querySelectorAll("input").forEach((function(t){t.value&&(i.open("POST","mail.php",!0),i.send(quizFormData),document.querySelector(".quiz-form").reset())}))}))))}},{key:"events",value:function(){var t=this;this.$el.addEventListener("click",(function(e){e.target==document.querySelector("[data-next-btn]")&&(t.addToSend(),t.nextQuestion())})),this.$el.addEventListener("change",(function(e){if("INPUT"==e.target.tagName){if("checkbox"!==e.target.type&&"radio"!==e.target.type)t.$el.querySelectorAll("input").forEach((function(t){t.checked=!1}));t.tmp=t.serialize(document.querySelector(".quiz-form"))}else{var n=t.$el.querySelector("textarea");textareaText=n.value}}))}},{key:"valid",value:function(){var t=!1,e=this.$el.querySelector("textarea");return e&&e.value.length>0?t=!0:(this.$el.querySelectorAll("input").forEach((function(e){switch(e.nodeName){case"INPUT":switch(e.type){case"text":e.value?t=!0:e.classList.add("error");case"checkbox":e.checked?t=!0:e.classList.add("error");case"radio":e.checked?t=!0:e.classList.add("error")}}})),t)}},{key:"addToSend",value:function(){this.resultArray.push(this.tmp)}},{key:"serialize",value:function(t){var e,n={},r="";if("object"==_typeof(t)&&"FORM"==t.nodeName)for(var a=t.elements.length,o=0;o<a;o++)if((e=t.elements[o]).name&&!e.disabled&&"file"!=e.type&&"reset"!=e.type&&"submit"!=e.type&&"button"!=e.type)if("select-multiple"==e.type)for(j=t.elements[o].options.length-1;j>=0;j--)e.options[j].selected&&(n[n.length]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.options[j].value));else("checkbox"!=e.type&&"radio"!=e.type&&e.value||e.checked)&&(r+=e.value+",",n[e.name]=r);return n}}]),t}();window.quiz=new Quiz(".quiz-form .quiz-questions",quizData,{nextBtnText:"Следующий шаг",sendBtnText:"Отправить"});var rangeSlider=document.getElementById("range-slider");if(rangeSlider){noUiSlider.create(rangeSlider,{start:[500,999999],connect:!0,step:1,range:{min:[500],max:[999999]}});var input0=document.getElementById("input-0"),input1=document.getElementById("input-1"),inputs=[input0,input1];rangeSlider.noUiSlider.on("update",(function(t,e){inputs[e].value=Math.round(t[e])}));var setRangeSlider=function(t,e){var n=[null,null];n[t]=e,rangeSlider.noUiSlider.set(n)};inputs.forEach((function(t,e){t.addEventListener("change",(function(t){setRangeSlider(e,t.currentTarget.value)}))}))}var style=getComputedStyle(document.documentElement),colorValue=style.getPropertyValue("--color-accent"),selector=document.querySelector('input[type="tel"]'),phoneMask=new Inputmask("+7 (999) 999-9999");phoneMask.mask(selector);var productsFormData=null,validateForms=function(t,e,n,r,a){new window.JustValidate(t,{rules:e,messages:n,colorWrong:colorValue,submitHandler:function(t){if(t.classList.contains("cart-modal__form")){productsFormData=new FormData(document.querySelector(".cart-modal__form")),document.querySelectorAll(".cart-modal-order__list .mini-cart__item").forEach((function(t,e){var n=t.querySelector(".mini-product__title").textContent,r=t.querySelector(".mini-product__price").textContent;productsFormData.append("product-".concat(e+1),"".concat(n,", ").concat(r))})),productsFormData.append("summ","".concat(document.querySelector(".cart-modal-order__summ span").textContent));var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&e.status},e.open("POST","mail.php",!0),e.send(productsFormData),t.reset()}else{var n=new FormData(t),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&r.status},r.open("POST","mail.php",!0),r.send(n),t.reset()}}})};validateForms(".callback-form",{name:{required:!0},phone:{required:!0}},{name:{required:"Вы должны ввести имя"},phone:{required:"Вы должны ввести телефон"}},".thanks-popup"),validateForms(".cart-modal__form",{name:{required:!0},phone:{required:!0},email:{required:!0,email:!0}},{name:{required:"Вы должны ввести имя"},phone:{required:"Вы должны ввести телефон"},email:{required:"Вы должны ввести email",email:"Вы должны ввести корректный email"}},".thanks-popup");